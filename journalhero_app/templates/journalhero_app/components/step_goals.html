<div class="flex items-start gap-4">
  <div>
    <h3 class="text-xl font-bold">
      <span class="text-2xl">Choose your goals</span><br>
      <span class="text-success">How can Journal Hero help you today?</span>
    </h3>
  </div>
</div>


<div class="mt-6 flex flex-col gap-6">
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="reduce-stress">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Reduce Stress & Anxiety</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="relationships">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Improve My Relationships</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="productivity">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Boost My Productivity</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="self-understanding">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Understand Myself Better</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="gratitude">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Cultivate Gratitude</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="chronicle-life">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Chronicle my Daily Life</span>
  </label>
  <label class="goal-option flex items-center gap-3 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer" data-goal="other">
    <input type="checkbox" class="checkbox checkbox-success" />
    <span>Something Else</span>
  </label>
</div>

<div class="mt-6 flex items-center justify-center">
  <button id="goals-continue" class="btn btn-success btn-wide invisible">Continue</button>
</div>

<script>
  (function() {
    const modal = document.getElementById('onboarding-modal');
    if (!modal) return;
    const goalsPanel = modal.querySelector('#step-2');
    if (!goalsPanel) return;
    const goalOptions = goalsPanel.querySelectorAll('.goal-option');
    const continueBtn = goalsPanel.querySelector('#goals-continue');

    const updateContinueVisibility = () => {
      const anySelected = Array.from(goalOptions).some((opt) => opt.classList.contains('ring-3'));
      if (continueBtn) {
        continueBtn.classList.toggle('invisible', !anySelected);
      }
    };

    const applySelectionStyles = (option, isSelected) => {
      option.classList.toggle('border-success', isSelected);
      option.classList.toggle('bg-success/5', isSelected);
      option.classList.toggle('ring-3', isSelected);
      option.classList.toggle('ring-success', isSelected);
      option.classList.toggle('ring-offset-1', isSelected);
    };

    goalOptions.forEach((option) => {
      const input = option.querySelector('input[type="checkbox"]');
      if (!input) return;

      input.addEventListener('change', () => {
        applySelectionStyles(option, input.checked);
        updateContinueVisibility();
      });

      // Initialize styles in case of pre-checked inputs
      applySelectionStyles(option, input.checked);
    });

    updateContinueVisibility();
  })();
</script>


