{% extends "journalhero_app/base.html" %}
{% load static %}

{% block content %}
  <header class="w-full border-b border-gray-200 backdrop-blur bg-base-50">
    <div class="container mx-auto px-6 py-4">
      <div class="navbar p-0">
        <div class="navbar-start">
          <a href="/" class="flex items-center gap-2">
            <img src="{% static 'journalhero_app/journalherologo.png' %}" alt="Journal Hero Logo" class="h-18 w-auto" />
          </a>
        </div>
        <div class="navbar-center hidden md:flex">
          <ul class="flex items-center gap-4">
            <li><a href="#features" class="btn btn-sm rounded-full font-bold bg-base-300 hover:bg-success">Features</a></li>
            <li><a href="#reviews" class="btn btn-sm rounded-full font-bold bg-base-300 hover:bg-success">Reviews</a></li>
            <li><a href="#pricing" class="btn btn-sm rounded-full font-bold bg-base-300 hover:bg-success">Pricing</a></li>
          </ul>
        </div>
        <div class="navbar-end gap-2">
          <button class="btn btn-ghost hidden sm:inline-flex">Login</button>
          <button class="btn btn-success" data-trigger="start-trial">Start Your Free Trial</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <!-- Hero Section -->
    <section class="w-full">
      <div class="container mx-auto px-6 py-14 md:py-20">
        <h1 class="text-center font-extrabold tracking-tight text-4xl md:text-6xl leading-tight">
          Your Journey Starts with <span class="text-success">Journal Hero</span>
        </h1>
        <p class="mt-6 max-w-3xl mx-auto text-center text-base md:text-lg text-base-content/70">
          Transform your thoughts into powerful insights. Journal Hero helps you build a
          consistent journaling habit that improves your mental clarity, productivity, and
          personal growth.
        </p>
        <div class="mt-8 flex items-center justify-center gap-3">
          <a href="#" class="btn btn-success" data-trigger="start-trial">Start Your Free Trial</a>
          <a href="#demo" class="btn btn-outline btn-success">Watch Demo</a>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="w-full">
      <div class="container mx-auto px-6 pb-20">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12">
          <!-- Feature 1 -->
          <div class="text-center">
            <div class="mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-success/10 text-success">
              <!-- placeholder icon -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
                <circle cx="12" cy="12" r="9"/>
              </svg>
            </div>
            <h3 class="font-semibold text-lg">Beat Writer's Block</h3>
            <p class="mt-2 text-sm text-base-content/70">
              AI-powered prompts eliminate the "blank page" problem. Get personalized,
              thought-provoking questions based on your previous entries, goals, and mood.
            </p>
          </div>

          <!-- Feature 2 -->
          <div class="text-center">
            <div class="mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-success/10 text-success">
              <!-- placeholder icon -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
                <rect x="5" y="5" width="14" height="14" rx="3"/>
              </svg>
            </div>
            <h3 class="font-semibold text-lg">Gain Mental Clarity</h3>
            <p class="mt-2 text-sm text-base-content/70">
              AI analyzes your entries to identify productivity patterns, emotional triggers,
              and behavioral insights. Improve both your
              <span class="font-bold text-success">mental health</span> and <span class="font-bold text-success">daily effectiveness</span>.
            </p>
          </div>

          <!-- Feature 3 -->
          <div class="text-center">
            <div class="mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-success/10 text-success">
              <!-- placeholder icon -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
                <path d="M12 2a10 10 0 100 20 10 10 0 000-20Zm1 5v6l5 3-1 1-6-3V7h2Z"/>
              </svg>
            </div>
            <h3 class="font-semibold text-lg">Build Your Daily Ritual</h3>
            <p class="mt-2 text-sm text-base-content/70">
              Pick a prompt, chase a streak, and unlock wins. Consistency becomes fun and surprisingly easy. 
              Journaling is a rewarding daily habit, not a chore.
            </p>
          </div>

          <!-- Feature 4 -->
          <div class="text-center">
            <div class="mx-auto mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-success/10 text-success">
              <!-- placeholder icon -->
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-7 w-7">
                <path d="M12 2l7 4v6c0 5-3.5 9-7 10-3.5-1-7-5-7-10V6l7-4Zm0 4l-5 3v3c0 3.5 2.2 6.8 5 7.9 2.8-1.1 5-4.4 5-7.9V9l-5-3Z"/>
              </svg>
            </div>
            <h3 class="font-semibold text-lg">End-to-End Privacy</h3>
            <p class="mt-2 text-sm text-base-content/70">
              Your thoughts are completely private with end-to-end encryption. Only you have the
              master key; we can't read your entries even if we wanted to.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Onboarding Modal: Step 1 - Choose Persona -->
  <dialog id="onboarding-modal" class="modal">
    <div class="modal-box max-w-3xl">
      <div class="flex items-start justify-between gap-4">
        <div>
          <h3 class="text-xl font-bold">Choose your AI’s initial persona</h3>
          <p class="mt-1 text-sm text-base-content/70">You can change this anytime later in your settings.</p>
        </div>
        <form method="dialog">
          <button class="btn btn-sm btn-circle btn-ghost">✕</button>
        </form>
      </div>

      <div class="mt-6 space-y-3">
        <!-- Persona Row 1: Carl Jung -->
        <label data-persona="jung" class="persona-option flex items-start gap-4 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer">
          <div class="flex-1">
            <div class="flex items-start gap-4">
              <div class="avatar">
                <div class="w-24 rounded-xl">
                  <img src="{% static 'journalhero_app/characters/new-jung00.png' %}" alt="Carl Jung" class="object-cover" />
                </div>
              </div>
              <div class="flex-1">
                <h4 class="font-semibold">Carl Jung: The Depth Psychologist</h4>
                <p class="mt-1 text-sm text-base-content/80">
                  Inspired by the pioneering psychoanalyst, <span class="font-semibold">Carl Jung</span> will guide you to explore the deeper layers of your psyche. 
                  He helps you recognize personal archetypes, understand the symbolic language of your life, and engage with your "shadow self." 
                  His prompts are designed to foster individuation—the journey of becoming your most authentic and whole self.
                </p>
                <p class="mt-2 text-sm"><span class="font-semibold">Best for users who want to:</span> Uncover subconscious patterns, analyze their dreams, and find deep, symbolic meaning in their experiences.</p>
              </div>
            </div>
          </div>
        </label>

        <!-- Persona Row 2: Marcus Aurelius -->
        <label data-persona="marcus" class="persona-option flex items-start gap-4 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer">
          <div class="flex-1">
            <div class="flex items-start gap-4">
              <div class="avatar">
                <div class="w-24 rounded-xl">
                  <img src="{% static 'journalhero_app/characters/new-marcus00.png' %}" alt="Marcus Aurelius" class="object-cover" />
                </div>
              </div>
              <div class="flex-1">
                <h4 class="font-semibold">Marcus Aurelius: The Stoic Emperor</h4>
                <p class="mt-1 text-sm text-base-content/80">
                  Drawing from the wisdom of the Roman emperor and philosopher, <span class="font-semibold">Marcus Aurelius</span> acts as your guide to inner resilience. 
                  His approach is rooted in Stoicism: focusing on what you can control, acting with virtue, and viewing obstacles as opportunities. 
                  His prompts are designed to build mental fortitude and turn reflection into purposeful action.
                </p>
                <p class="mt-2 text-sm"><span class="font-semibold">Best for users who want to:</span> Build resilience, gain perspective on their problems, and translate their thoughts into disciplined, real-world actions.</p>
              </div>
            </div>
          </div>
        </label>

        <!-- Persona Row 3: Fred Rogers -->
        <label data-persona="rogers" class="persona-option flex items-start gap-4 p-4 rounded-xl border border-base-300 hover:border-success transition cursor-pointer">
          <div class="flex-1">
            <div class="flex items-start gap-4">
              <div class="avatar">
                <div class="w-16 rounded-xl bg-base-200 border border-base-300 flex items-center justify-center text-base-content/40">IMG</div>
              </div>
              <div class="flex-1">
                <h4 class="font-semibold">Fred Rogers: The Compassionate Neighbor</h4>
                <p class="mt-1 text-sm text-base-content/80">
                  Channeling the gentle and affirming spirit of <span class="font-semibold">Fred Rogers</span>, this companion meets you with unconditional warmth and acceptance. 
                  He believes that all your feelings are mentionable and manageable, creating a safe space for you to be honest without judgment. 
                  His prompts encourage self-compassion, kindness, and finding the good in yourself and others.
                </p>
                <p class="mt-2 text-sm"><span class="font-semibold">Best for users who want to:</span> Practice self-love, process their feelings in a safe and supportive environment, and cultivate a gentler inner voice.</p>
              </div>
            </div>
          </div>
        </label>
      </div>

      <div class="mt-6 flex items-center justify-end">
        <button id="onboarding-continue" class="btn btn-success hidden">Continue</button>
      </div>
    </div>
    <form method="dialog" class="modal-backdrop bg-base-200/50 backdrop-blur">
      <button>close</button>
    </form>
  </dialog>

  <script>
    (function() {
      const modal = document.getElementById('onboarding-modal');
      const triggers = document.querySelectorAll('[data-trigger="start-trial"]');
      const continueBtn = document.getElementById('onboarding-continue');
      const personaOptions = document.querySelectorAll('.persona-option');

      triggers.forEach((el) => {
        el.addEventListener('click', (e) => {
          e.preventDefault();
          if (modal && typeof modal.showModal === 'function') {
            modal.showModal();
          }
        });
      });

      personaOptions.forEach((option) => {
        option.addEventListener('click', () => {
          personaOptions.forEach((o) => o.classList.remove('border-success', 'bg-success/5'));
          option.classList.add('border-success', 'bg-success/5');
          if (continueBtn) continueBtn.classList.remove('hidden');
        });
      });
    })();
  </script>

{% endblock %}